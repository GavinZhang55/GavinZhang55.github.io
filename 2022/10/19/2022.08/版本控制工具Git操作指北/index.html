<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>版本控制工具Git操作指北与Git标准工作流 | Brian Blog | Think Twice, Code Once.</title>

  
  <meta name="author" content="ZhangYuBrian">
  

  
  <meta name="description" content="&lt;br&gt;大连理工大学(DUT)软件工程毕业&lt;br&gt;一枚前端开发工程师&lt;br&gt;Email: zhangyubo56@163.com">
  

  
  
  <meta name="keywords" content="Git,版本控制工具">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="版本控制工具Git操作指北与Git标准工作流"/>

  <meta property="og:site_name" content="Brian Blog"/>

  
  <meta property="og:image" content="/favicon.png"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Brian Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
<div class="blog">
  <div class="content">
    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Brian Blog</a>
    </h1>
    <p class="site-description">Think Twice, Code Once.</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>版本控制工具Git操作指北与Git标准工作流</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2022/10/19/2022.08/版本控制工具Git操作指北/" rel="bookmark">
        <time class="entry-date published" datetime="2022-10-19T13:41:00.000Z">
          2022-10-19
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <img src="https://image-1305049900.cos.ap-beijing.myqcloud.com/source/Git-Logo-1536x960.jpg" style="zoom: 50%;" />

<p>&lt;– !more –&gt;</p>
<h2 id="版本工具分类"><a href="#版本工具分类" class="headerlink" title="版本工具分类"></a>版本工具分类</h2><ul>
<li>集中式：也就是SVN，代存放在单独的一个服务器上，这是优点也是缺点，优点是集中式方便于项目管理，缺点就是一旦服务器down了那代码的历史纪录就会丢失，员工的代码也不能同步了；</li>
<li>分布式：也就是Git，Git不会将代码集中存放在某一服务器上，所以代码和历史纪录不易丢失，而且Git回滚速度快，方便开发时的使用场景；</li>
</ul>
<h2 id="Git常用基本命令"><a href="#Git常用基本命令" class="headerlink" title="Git常用基本命令"></a>Git常用基本命令</h2><p>首次初始化git仓库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">git --version 查看当前git版本 </span><br><span class="line"></span><br><span class="line">git config --gobal user.name &quot;自定义名称&quot; </span><br><span class="line"></span><br><span class="line">git config --gobal user.email &quot;自定义邮箱&quot;</span><br><span class="line"></span><br><span class="line">git config --list 检查基础配置信息</span><br><span class="line"></span><br><span class="line">git init 初始化一个git仓库</span><br><span class="line"></span><br><span class="line">git init newrepo 使用指定目录作为git仓库</span><br><span class="line"> </span><br><span class="line">git remote add origin url（github的url）</span><br><span class="line"></span><br><span class="line">git clone url</span><br><span class="line"></span><br><span class="line">git add …  添加文件到缓存</span><br><span class="line"></span><br><span class="line">git commit -m ‘注释’</span><br><span class="line"></span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<ul>
<li>git checkout -b 分支名  创建并切换到新分支，相当于两条命令</li>
<li>git status  查看文件状态，是否有提交删除修改新增</li>
<li>git diff 查看某个文件的修改内容</li>
<li>git log 查看历史提交纪录</li>
<li>git reset –hard HEAD^ 回退到上一个版本 <code>^</code>的个数就代表回退的版本数</li>
<li>git reset –hard 版本号  回退到某个版本号</li>
</ul>
<p><strong>git的分支操作汇总</strong>：</p>
<ul>
<li>查看分支：git branch（当前分支前有*号）</li>
<li>创建分支：git branch name</li>
<li>切换分支：git checkout name</li>
<li>创建+切换分支：git checkout –b name</li>
<li>合并某分支到当前分支：git merge name</li>
<li>删除分支：git branch –d name</li>
</ul>
<p>当合并分支冲突时conflict需要手动合并处理冲突</p>
<h2 id="Git完整工作流"><a href="#Git完整工作流" class="headerlink" title="Git完整工作流"></a>Git完整工作流</h2><blockquote>
<p>总结自视频<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV19e4y1q7JJ/?spm_id_from=333.1007.tianma.3-5-11.click&vd_source=b654366cae34b38e1b5c9044a9cfaece">十分钟学会正确的github工作流，和开源作者们使用同一套流程_哔哩哔哩_bilibili</a>，感觉视频讲的流程非常好，是一个好的开发流程习惯，所以总结分享在下面。</p>
</blockquote>
<p>第一步，将项目代码clone到本地：</p>
<img src="https://image-1305049900.cos.ap-beijing.myqcloud.com/source/git-clone.PNG" style="zoom:80%;" />

<p>本地的Git可以想象成两个部分：Local Git就是本地的Git仓库，纪录这你的修改纪录等等；Disk是源文件在磁盘里真正的样子，是编辑器打开时代码的状态。</p>
<p>第二步，修改代码前建立自己的feature branch，避免自己的代码改动Commit对主分支代码产生影响：</p>
<img src="https://image-1305049900.cos.ap-beijing.myqcloud.com/source/git-checkout.PNG" style="zoom:80%;" />

<p>第三步，当在自己的Branch上修改完代码之后进行<code>git diff</code>来看自己硬盘上的代码（自己修改后的代码）与git保存的分支（Local Git里的git纪录）有什么区别，确定自己的代码修改没问题；</p>
<p>第四步，使用<code>git add fileName</code>将代码提交到暂存区；</p>
<p>第五步，使用<code>git commit -m &#39;commit message&#39;</code>使得Local Git新增一个commit，此时my-feature就跟main branch不一样了；</p>
<p>第六步，使用<code>git push origin my-feature</code>使远端代码库新增一个branch <code>my-feature</code>，上面是自己做的修改；如果这个branch不仅有自己使用，在push前可以先pull一下；</p>
<p>关键是如下步骤：</p>
<p>如果在此时发现main branch新增了update，要测试my-feature在新的update更新之下是不是还好用，所以要把main branch的更新同步到my-feature branch里：</p>
<ul>
<li>git checkout main  切换main分支</li>
<li>git pull origin master 拉取main分支的代码到本地</li>
<li>git checkout my-feature  回到自己的分支</li>
<li>git rebase main  将my-feature的修改先放到一边（回退到切分支时），然后把main最新的update拿过来（基础变成了最新的main branch，所以叫变基），接着在此基础上把自己的修改给弄回去，如果出现了rebase conflict手动处理，不能将问题留给下一步，此时状态如下图：</li>
</ul>
<img src="https://image-1305049900.cos.ap-beijing.myqcloud.com/source/git-rebase.png" style="zoom:80%;" />

<ul>
<li>git push -f origin my-feature，更新rebase后的代码到远程仓库</li>
<li>将远端仓库的my-feature branch的改动合并到main branch，相当于个人的分支请求主分支项目做一个pull拉取合并</li>
</ul>
<img src="https://image-1305049900.cos.ap-beijing.myqcloud.com/source/new%20pull%20request.png" style="zoom:80%;" />

<ul>
<li>之后在main branch负责人审查了my-feature的代码改动没问题之后，用<code>Squash and merge</code>进行分支合并，意思是将my-feature上所有的commit合并为一个commit保存在main branch上，只是commit的结构数量和名字改变了，意在保证main branch commit history尽可能简洁，这也是为什么用rebase而不用merge的一个原因</li>
</ul>
<img src="https://image-1305049900.cos.ap-beijing.myqcloud.com/source/squash%20and%20merge.png" style="zoom:80%;" />

<ul>
<li>之后可以delete branch 删除远程仓库my-feature branch，然后git checkout -b main 切换到main分支， 然后 git branch -D my-feature删掉本地git的my-feature branch</li>
<li>最后再一次使用git pull origin master把最新的更新拉到本地，一个完整的更新流程完成了</li>
</ul>
<h2 id="Git-Linux基本命令"><a href="#Git-Linux基本命令" class="headerlink" title="Git_Linux基本命令"></a>Git_Linux基本命令</h2><p>cd 文件夹名：进入某文件夹<br>clear: 清除屏幕<br>echo ‘信息’往控制台输出信息（打印）<br>echo ‘信息’&gt; test.txt 新建txt文件内写入输出信息<br>ll：查看当前目录下的子文件&amp;子目录平铺在控制台<br>find 目录名 :将对应文件下的子孙文件&amp;子孙目录平铺在控制台<br>find 目录名-type f：将对应目录下的文件平铺在控制台<br>rm 文件名：删除文件<br>mv 源文件 重命名文件：重命名<br>cat 文件的url ：查看对应文件的内容<br>vim 文件的url（在英文模式下）<br>按i键插入模式 进行文件的编辑<br>按esc键&amp;按：键 进行命令的执行<br>q！ 强制退出（不保存）<br>wq 保存退出<br>set nu 设置行号</p>
<blockquote>
<p>推荐：</p>
<p>简短的git命令博客：<a target="_blank" rel="noopener" href="https://www.lebronchao.com/2020/08/07/Git-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%B7%A5%E5%85%B7-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Git 版本控制工具 | 学习笔记 | LeBronChao’s Blog</a></p>
<p>适合精进的全面git教程：<a target="_blank" rel="noopener" href="https://github.com/geeeeeeeeek/git-recipes">geeeeeeeeek&#x2F;git-recipes: 🥡 Git recipes in Chinese by Zhongyi Tong. 高质量的Git中文教程. (github.com)</a></p>
</blockquote>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/工具技巧/">工具技巧</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Git/">Git</a><a href="/tags/版本控制工具/">版本控制工具</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2022 ZhangYuBrian
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>